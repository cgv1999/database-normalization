-- Нормализация базы данных от 1НФ до 3НФ
-- Удаление таблиц (если существуют)
DROP TABLE IF EXISTS transactions CASCADE;
DROP TABLE IF EXISTS customers CASCADE;
DROP TABLE IF EXISTS products CASCADE;
DROP TABLE IF EXISTS locations CASCADE;

-- Создание таблицы locations (самая независимая)
CREATE TABLE locations (
    postcode VARCHAR(10) PRIMARY KEY,
    state VARCHAR(50) NOT NULL,
    country VARCHAR(50) NOT NULL
);

-- Создание таблицы customers (зависит от locations)
CREATE TABLE customers (
    customer_id INTEGER PRIMARY KEY,
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    gender VARCHAR(10),
    dob DATE,
    job_title VARCHAR(100),
    job_industry_category VARCHAR(100),
    wealth_segment VARCHAR(50),
    deceased_indicator VARCHAR(1),
    owns_car VARCHAR(3),
    address VARCHAR(200),
    postcode VARCHAR(10),
    property_valuation INTEGER
);

-- Создание таблицы products (независимая)
CREATE TABLE products (
    product_id INTEGER PRIMARY KEY,
    brand VARCHAR(100) NOT NULL,
    product_line VARCHAR(50),
    product_class VARCHAR(20),
    product_size VARCHAR(20),
    standard_cost DECIMAL(10,2)
);

-- Создание таблицы transactions (зависит от всех)
CREATE TABLE transactions (
    transaction_id INTEGER PRIMARY KEY,
    product_id INTEGER NOT NULL,
    customer_id INTEGER NOT NULL,
    transaction_date DATE,
    online_order BOOLEAN,
    order_status VARCHAR(50),
    list_price DECIMAL(10,2)
);

-- ЗАПОЛНЕНИЕ ДАННЫХ (ПОРЯДОК ВАЖЕН!) --

-- 1. Сначала заполняем locations
INSERT INTO locations (postcode, state, country)
SELECT DISTINCT postcode, state, country 
FROM (VALUES
    ('2016', 'New South Wales', 'Australia'),
    ('2153', 'New South Wales', 'Australia'),
    ('4211', 'QLD', 'Australia'),
    ('2448', 'New South Wales', 'Australia'),
    ('3216', 'VIC', 'Australia'),
    ('2210', 'New South Wales', 'Australia'),
    ('2650', 'New South Wales', 'Australia'),
    ('2023', 'New South Wales', 'Australia'),
    ('3044', 'VIC', 'Australia'),
    ('4557', 'QLD', 'Australia'),
    ('3799', 'VIC', 'Australia'),
    ('2760', 'New South Wales', 'Australia'),
    ('2428', 'New South Wales', 'Australia'),
    ('3331', 'VIC', 'Australia'),
    ('3058', 'VIC', 'Australia'),
    ('2135', 'New South Wales', 'Australia'),
    ('2233', 'New South Wales', 'Australia'),
    ('2444', 'New South Wales', 'Australia'),
    ('2519', 'New South Wales', 'Australia'),
    ('2756', 'New South Wales', 'Australia'),
    ('2170', 'New South Wales', 'Australia'),
    ('2212', 'New South Wales', 'Australia'),
    ('2207', 'New South Wales', 'Australia'),
    ('2322', 'New South Wales', 'Australia'),
    ('4413', 'QLD', 'Australia'),
    ('4740', 'QLD', 'Australia'),
    ('4868', 'QLD', 'Australia'),
    ('4116', 'QLD', 'Australia'),
    ('4005', 'QLD', 'Australia'),
    ('4127', 'QLD', 'Australia'),
    ('4726', 'QLD', 'Australia'),
    ('4805', 'QLD', 'Australia'),
    ('4018', 'QLD', 'Australia'),
    ('4670', 'QLD', 'Australia'),
    ('2480', 'New South Wales', 'Australia'),
    ('3212', 'VIC', 'Australia'),
    ('3198', 'VIC', 'Australia'),
    ('4503', 'QLD', 'Australia'),
    ('2145', 'New South Wales', 'Australia'),
    ('4350', 'QLD', 'Australia'),
    ('2142', 'New South Wales', 'Australia'),
    ('2029', 'New South Wales', 'Australia'),
    ('2127', 'New South Wales', 'Australia'),
    ('4280', 'QLD', 'Australia'),
    ('2166', 'New South Wales', 'Australia'),
    ('2046', 'New South Wales', 'Australia'),
    ('2026', 'New South Wales', 'Australia'),
    ('2765', 'New South Wales', 'Australia'),
    ('2749', 'New South Wales', 'Australia'),
    ('2745', 'New South Wales', 'Australia'),
    ('2217', 'New South Wales', 'Australia'),
    ('2230', 'New South Wales', 'Australia'),
    ('3046', 'VIC', 'Australia'),
    ('3183', 'VIC', 'Australia'),
    ('2070', 'New South Wales', 'Australia'),
    ('2213', 'New South Wales', 'Australia'),
    ('4208', 'QLD', 'Australia'),
    ('2774', 'New South Wales', 'Australia'),
    ('4133', 'QLD', 'Australia'),
    ('3752', 'VIC', 'Australia'),
    ('4213', 'QLD', 'Australia'),
    ('4170', 'QLD', 'Australia'),
    ('2073', 'New South Wales', 'Australia'),
    ('3561', 'VIC', 'Australia'),
    ('2330', 'New South Wales', 'Australia'),
    ('3977', 'VIC', 'Australia'),
    ('2204', 'New South Wales', 'Australia'),
    ('2086', 'New South Wales', 'Australia'),
    ('2226', 'New South Wales', 'Australia'),
    ('2075', 'New South Wales', 'Australia'),
    ('2038', 'New South Wales', 'Australia'),
    ('2069', 'New South Wales', 'Australia'),
    ('2100', 'New South Wales', 'Australia'),
    ('2125', 'New South Wales', 'Australia'),
    ('2766', 'New South Wales', 'Australia'),
    ('2209', 'New South Wales', 'Australia'),
    ('2160', 'New South Wales', 'Australia'),
    ('2065', 'New South Wales', 'Australia'),
    ('2150', 'New South Wales', 'Australia'),
    ('2168', 'New South Wales', 'Australia'),
    ('3133', 'VIC', 'Australia'),
    ('3070', 'VIC', 'Australia'),
    ('2777', 'New South Wales', 'Australia'),
    ('3218', 'VIC', 'Australia'),
    ('3350', 'VIC', 'Australia'),
    ('3931', 'VIC', 'Australia')
) AS all_postcodes(postcode, state, country);

-- 2. Затем заполняем customers
INSERT INTO customers (customer_id, first_name, last_name, gender, dob, job_title, 
                      job_industry_category, wealth_segment, deceased_indicator, 
                      owns_car, address, postcode, property_valuation)
VALUES 
(1, 'Laraine', 'Medendorp', 'F', '1953-10-12', 'Executive Secretary', 'Health', 'Mass Customer', 'N', 'Yes', '060 Morning Avenue', '2016', 10),
(2, 'Eli', 'Bockman', 'Male', '1980-12-16', 'Administrative Officer', 'Financial Services', 'Mass Customer', 'N', 'Yes', '6 Meadow Vale Court', '2153', 10),
(3, 'Arlin', 'Dearle', 'Male', '1954-01-20', 'Recruiting Manager', 'Property', 'Mass Customer', 'N', 'Yes', '0 Holy Cross Court', '4211', 9),
(4, 'Talbot', '', 'Male', '1961-10-03', '', 'IT', 'Mass Customer', 'N', 'No', '17979 Del Mar Point', '2448', 4),
(5, 'Sheila-kathryn', 'Calton', 'Female', '1977-05-13', 'Senior Editor', 'n/a', 'Affluent Customer', 'N', 'Yes', '9 Oakridge Court', '3216', 9),
(6, 'Curr', 'Duckhouse', 'Male', '1966-09-16', '', 'Retail', 'High Net Worth', 'N', 'Yes', '4 Delaware Trail', '2210', 9),
(7, 'Fina', 'Merali', 'Female', '1976-02-23', '', 'Financial Services', 'Affluent Customer', 'N', 'Yes', '49 Londonderry Lane', '2650', 4),
(8, 'Rod', 'Inder', 'Male', '1962-03-30', 'Media Manager I', 'n/a', 'Mass Customer', 'N', 'No', '97736 7th Trail', '2023', 12),
(9, 'Mala', 'Lind', 'Female', '1973-03-10', 'Business Systems Development Analyst', 'Argiculture', 'Affluent Customer', 'N', 'Yes', '93405 Ludington Park', '3044', 8),
(10, 'Fiorenze', 'Birdall', 'Female', '1988-10-11', 'Senior Quality Engineer', 'Financial Services', 'Mass Customer', 'N', 'Yes', '44339 Golden Leaf Alley', '4557', 4),
(11, 'Uriah', 'Bisatt', 'Male', '1954-04-30', '', 'Property', 'Mass Customer', 'N', 'No', '2 Sutherland Street', '3799', 6),
(12, 'Sawyere', 'Flattman', 'Male', '1994-07-21', 'Nuclear Power Engineer', 'Manufacturing', 'Mass Customer', 'N', 'No', '9 Mcbride Trail', '2760', 8),
(13, 'Gabriele', 'Norcross', 'Male', '1955-02-15', 'Developer I', 'Financial Services', 'High Net Worth', 'N', 'Yes', '9861 New Castle Avenue', '2428', 9),
(14, 'Rayshell', 'Kitteman', 'Female', '1983-03-25', 'Account Executive', 'Financial Services', 'Affluent Customer', 'N', 'No', '52 Moland Street', '3331', 4),
(15, 'Erroll', 'Radage', 'Male', '2000-07-13', 'Junior Executive', 'Manufacturing', 'Mass Customer', 'N', 'No', '82391 Kensington Lane', '3058', 9),
(16, 'Harlin', 'Parr', 'Male', '1977-02-27', 'Media Manager IV', 'n/a', 'Mass Customer', 'N', 'Yes', '092 2nd Alley', '2135', 12),
(17, 'Heath', 'Faraday', 'Male', '1962-03-19', 'Sales Associate', 'n/a', 'Affluent Customer', 'N', 'Yes', '59 Spaight Circle', '2233', 9),
(18, 'Marjie', 'Neasham', 'Female', '1967-07-06', 'Professor', 'n/a', 'Affluent Customer', 'N', 'No', '032 Bartelt Crossing', '2444', 8),
(19, 'Sorcha', 'Keyson', 'Female', '2001-04-15', 'Geological Engineer', 'Manufacturing', 'High Net Worth', 'N', 'No', '18 Jenna Center', '2650', 7),
(20, 'Basile', 'Firth', 'Male', '1980-08-13', 'Project Manager', 'Manufacturing', 'Mass Customer', 'N', 'No', '3 Cordelia Plaza', '2153', 10),
(21, 'Mile', 'Cammocke', 'Male', '1980-09-20', 'Safety Technician I', 'Manufacturing', 'Affluent Customer', 'N', 'Yes', '28 5th Center', '4413', 3),
(22, 'Deeanne', 'Durtnell', 'Female', '1962-12-10', '', 'IT', 'Mass Customer', 'N', 'No', '52 Carey Alley', '4740', 5),
(23, 'Olav', 'Polak', 'Male', '1995-02-10', '', 'n/a', 'High Net Worth', 'N', 'Yes', '96 Texas Plaza', '3218', 7),
(24, 'Kim', 'Skpsey', 'Female', '1977-12-03', 'Research Assistant I', 'Argiculture', 'Mass Customer', 'N', 'Yes', '48 Eagan Avenue', '4868', 4),
(25, 'Geoff', 'Assaf', 'Male', '1976-12-02', 'Accounting Assistant III', 'Financial Services', 'Mass Customer', 'N', 'Yes', '9 Buell Park', '4116', 7),
(26, 'Trixi', 'Ginnelly', 'Female', '1978-06-10', 'Editor', 'Financial Services', 'Mass Customer', 'N', 'Yes', '02663 Buell Parkway', '2519', 11),
(27, 'Garvin', 'Klees', 'Male', '1978-09-25', 'Research Nurse', 'Health', 'Mass Customer', 'N', 'Yes', '2294 Pleasure Place', '2135', 12),
(28, 'Fee', 'Zellmer', 'Male', '1973-09-30', 'Senior Quality Engineer', 'Health', 'Affluent Customer', 'N', 'Yes', '2951 Petterle Place', '2756', 9),
(29, 'Mona', 'Sancraft', 'Female', '1968-06-22', 'Safety Technician III', 'Manufacturing', 'Mass Customer', 'N', 'No', '63 Lukken Drive', '2170', 9),
(30, 'Darrick', 'Helleckas', 'Male', '1961-10-18', '', 'IT', 'Affluent Customer', 'N', 'Yes', '833 Luster Way', '4005', 8),
(31, 'Star', 'Praton', 'Female', '1962-11-24', 'Staff Accountant III', 'Telecommunications', 'High Net Worth', 'N', 'Yes', '34 Russell Plaza', '4127', 6),
(32, 'Marion', 'Vanichkin', 'Female', '1995-04-20', 'Legal Assistant', 'Manufacturing', 'Affluent Customer', 'N', 'No', '78 Del Sol Hill', '2535', 8),
(33, 'Ernst', 'Hacon', 'Male', '1957-06-25', 'Product Engineer', 'n/a', 'Affluent Customer', 'N', 'Yes', '54 Sage Plaza', '4726', 1),
(34, 'Jephthah', 'Bachmann', 'U', '1843-12-21', 'Legal Assistant', 'IT', 'Affluent Customer', 'N', 'No', '90 Lawn Parkway', '4805', 4),
(35, 'Margaretha', 'Strettle', 'Female', '1963-09-28', 'Information Systems Manager', 'Health', 'High Net Worth', 'N', 'Yes', '38726 Ilene Crossing', '2212', 10),
(36, 'Lurette', 'Stonnell', 'Female', '1977-11-09', 'VP Quality Control', 'n/a', 'Affluent Customer', 'N', 'No', '3496 Brown Drive', '2207', 8),
(37, 'Laurie', 'Dwerryhouse', 'Female', '1985-12-22', 'Social Worker', 'Health', 'High Net Worth', 'N', 'No', '7188 Cody Way', '3350', 9),
(38, 'Cordi', 'Merman', 'Female', '1955-10-29', 'Senior Cost Accountant', 'Financial Services', 'Affluent Customer', 'N', 'No', '1 Claremont Park', '3931', 10),
(39, 'Hunfredo', 'Smalley', 'Male', '1979-04-16', 'Assistant Media Planner', 'Entertainment', 'Mass Customer', 'N', 'No', '60 Eagan Circle', '4018', 8),
(40, 'Tomasine', 'Jerche', 'Female', '1981-10-27', 'Payment Adjustment Coordinator', 'Manufacturing', 'Affluent Customer', 'N', 'No', '89314 Eagle Crest Center', '4670', 2),
(41, 'Basilius', 'Coupe', 'Male', '1976-04-14', 'Food Chemist', 'Health', 'Mass Customer', 'N', 'No', '2028 Lakewood Place', '2480', 3),
(42, 'Chiquita', 'Durnall', 'Female', '1977-03-28', 'Accountant III', 'Manufacturing', 'Mass Customer', 'N', 'No', '70875 Hudson Point', '3212', 6),
(43, 'Indira', 'Belt', 'Female', '1983-03-01', 'Director of Sales', 'Retail', 'Mass Customer', 'N', 'No', '543 Killdeer Park', '2322', 4),
(44, 'Neron', 'Verick', 'Male', '1981-10-18', 'Assistant Media Planner', 'Entertainment', 'Affluent Customer', 'N', 'Yes', '22125 Ramsey Drive', '3198', 9),
(45, 'Trace', 'Woodhead', 'Male', '1975-09-23', 'Senior Financial Analyst', 'Financial Services', 'Mass Customer', 'N', 'No', '3107 Calypso Terrace', '2210', 9),
(46, 'Kaila', 'Allin', 'Female', '1972-02-26', '', 'n/a', 'Affluent Customer', 'N', 'Yes', '957 Veith Junction', '2047', 10),
(47, 'Matthew', 'Jeaycock', 'Male', '1992-10-22', 'Registered Nurse', 'Health', 'Affluent Customer', 'N', 'No', '4853 Gulseth Avenue', '4503', 5),
(48, 'Rebbecca', 'Casone', 'Female', '1975-08-15', 'Biostatistician II', 'n/a', 'Mass Customer', 'N', 'Yes', '9 Michigan Terrace', '2145', 8),
(49, 'Nolly', 'Ownsworth', 'Male', '1994-01-26', 'VP Quality Control', 'n/a', 'Affluent Customer', 'N', 'No', '62 Steensland Road', '4350', 3),
(50, 'Whitby', 'Schapero', 'Male', '1980-10-01', 'Account Executive', 'Manufacturing', 'Mass Customer', 'N', 'Yes', '6 Homewood Avenue', '2142', 8),
(51, 'Fidelio', 'Dilke', 'Male', '1959-12-05', 'Computer Systems Analyst II', 'Retail', 'Mass Customer', 'N', 'No', '15 Almo Lane', '2029', 10),
(52, 'Curran', 'Bentson', 'Male', '1988-06-22', '', 'Financial Services', 'Mass Customer', 'N', 'Yes', '690 Glacier Hill Circle', '2127', 10),
(53, 'Agnella', 'Gocke', 'Female', '1954-04-18', 'Software Test Engineer II', 'Financial Services', 'Mass Customer', 'N', 'No', '89787 Village Green Terrace', '4280', 6),
(54, 'Loralyn', 'Wonfor', 'Femal', '1966-07-24', 'Sales Associate', 'Property', 'Mass Customer', 'N', 'Yes', '18 Elgar Park', '2166', 9),
(55, 'Linc', 'Jillions', 'Male', '1956-09-24', 'Paralegal', 'Financial Services', 'Affluent Customer', 'N', 'Yes', '413 Mayer Street', '2046', 9),
(56, 'Reese', 'Ensor', 'Male', '1996-07-04', 'VP Sales', 'Property', 'Mass Customer', 'N', 'Yes', '39 3rd Drive', '2026', 10),
(57, 'Abba', 'Masedon', 'M', '1988-06-13', 'Chief Design Engineer', 'n/a', 'Mass Customer', 'N', 'Yes', '44516 Katie Parkway', '2765', 7),
(58, 'Dalenna', 'Pinnock', 'Female', '1967-07-04', 'Office Assistant III', 'Financial Services', 'Affluent Customer', 'N', 'Yes', '41 Schurz Center', '2749', 8),
(59, 'Niki', 'Heathcote', 'Male', '2000-02-08', 'Physical Therapy Assistant', 'n/a', 'High Net Worth', 'N', 'No', '68150 Boyd Road', '2745', 9),
(60, 'Nadiya', 'Champerlen', 'Female', '1970-02-04', '', 'Manufacturing', 'Mass Customer', 'N', 'No', '11474 Westend Hill', '3752', 8),
(61, 'Kacey', 'Rowbottom', 'Female', '1959-11-29', 'Help Desk Operator', 'Property', 'High Net Worth', 'N', 'No', '308 Jana Crossing', '2153', 10),
(62, 'Sorcha', 'Roggers', 'Female', '1979-07-06', '', 'IT', 'Mass Customer', 'N', 'Yes', '163 Straubel Trail', '2217', 10),
(63, 'Ebony', 'Zini', 'Female', '1965-07-03', 'Senior Quality Engineer', 'Retail', 'Mass Customer', 'N', 'Yes', '68294 Clarendon Crossing', '2230', 10),
(64, 'Gerek', 'Yve', 'Male', '1978-03-25', 'Legal Assistant', 'IT', 'High Net Worth', 'N', 'No', '486 Mariners Cove Plaza', '3046', 7),
(65, 'Yale', 'Tanser', 'Male', '1976-04-01', 'Information Systems Manager', 'Financial Services', 'Affluent Customer', 'N', 'Yes', '0322 Dryden Court', '3183', 7),
(66, 'Anselm', 'Gawne', 'Male', '2002-03-11', 'Account Executive', 'Argiculture', 'High Net Worth', 'N', 'No', '9 Bonner Road', '2070', 12),
(67, 'Vernon', '', 'Male', '1960-06-14', 'Web Developer II', 'Retail', 'Mass Customer', 'N', 'No', '07041 Briar Crest Lane', '2213', 10),
(68, 'Dahlia', 'Eddoes', 'Female', '1974-04-21', 'Information Systems Manager', 'n/a', 'Affluent Customer', 'N', 'No', '29466 Hanson Pass', '4208', 6),
(69, 'Heidi', 'Milner', 'Female', '1969-06-22', 'Web Developer II', 'n/a', 'Mass Customer', 'N', 'No', '0212 Forest Run Trail', '2774', 8),
(70, 'Foster', 'Vannoort', 'Male', '1993-02-27', 'Paralegal', 'Financial Services', 'Affluent Customer', 'N', 'No', '33055 Menomonie Parkway', '4133', 8),
(71, 'Hoyt', 'Glavias', 'Male', '1985-01-27', 'Research Associate', 'Argiculture', 'Affluent Customer', 'N', 'Yes', '4763 Merchant Avenue', '2756', 8),
(72, 'Sammy', 'Cheese', 'Male', '1972-02-13', 'Administrative Officer', 'Manufacturing', 'Affluent Customer', 'N', 'Yes', '439 Ridgeway Court', '4213', 9),
(73, 'Minette', 'Worters', 'Female', '1960-05-27', 'Teacher', 'n/a', 'Affluent Customer', 'N', 'Yes', '2 Clyde Gallagher Lane', '4170', 5),
(74, 'Pansy', 'Kiddie', 'Female', '1969-06-19', '', 'n/a', 'Mass Customer', 'N', 'Yes', '97455 Loeprich Lane', '2153', 9),
(75, 'Dollie', 'Sealy', 'Female', '1978-07-15', 'VP Product Management', 'Property', 'Mass Customer', 'N', 'No', '9527 Ridgeway Street', '2073', 10),
(76, 'Rea', 'Hasser', 'Female', '1978-01-23', 'Statistician II', 'Retail', 'High Net Worth', 'N', 'Yes', '7 Jackson Point', '3561', 1),
(77, 'Shermie', 'Andrin', 'Male', '1989-09-12', 'Automation Specialist IV', 'Financial Services', 'Mass Customer', 'N', 'No', '74 Anniversary Junction', '2330', 6),
(78, 'Arch', 'Van der Kruis', 'Male', '1985-03-12', 'Business Systems Development Analyst', 'Argiculture', 'Affluent Customer', 'N', 'No', '2083 Spaight Court', '3977', 8),
(79, 'Tybi', 'Silliman', 'Female', '1968-10-02', 'Account Executive', 'Manufacturing', 'Mass Customer', 'N', 'No', '2796 Caliangt Circle', '2204', 12),
(80, 'Pablo', 'Small', 'Male', '1978-04-24', 'Data Coordiator', 'Entertainment', 'Mass Customer', 'N', 'No', '96061 Ludington Place', '2086', 11),
(81, 'Bee', 'Blazewicz', 'Female', '1986-09-04', '', 'Health', 'High Net Worth', 'N', 'No', '5037 Merchant Crossing', '2226', 11),
(82, 'Gleda', 'Cokely', 'Female', '1965-06-28', 'Software Test Engineer III', 'Property', 'High Net Worth', 'N', 'No', '289 Haas Street', '2075', 11),
(83, 'Kerr', 'Simmell', 'Male', '1967-02-26', 'Internal Auditor', 'IT', 'Mass Customer', 'N', 'Yes', '4423 Bartelt Parkway', '2038', 12),
(84, 'Rich', 'Mathiasen', 'Male', '1958-02-07', 'Accountant III', 'n/a', 'Mass Customer', 'N', 'Yes', '5 Grim Center', '2069', 12),
(85, 'Kane', 'Tixall', 'Male', '1958-05-21', 'Analyst Programmer', 'n/a', 'Mass Customer', 'N', 'No', '73042 Roth Crossing', '2100', 11),
(86, 'Job', 'Sleney', 'Male', '1989-03-04', 'Occupational Therapist', 'Health', 'High Net Worth', 'N', 'Yes', '171 Fordem Junction', '2233', 10),
(87, 'Fields', 'Langdon', 'Male', '1974-04-23', 'Editor', 'Financial Services', 'Mass Customer', 'N', 'No', '2640 Manley Point', '2166', 9),
(88, 'Malynda', 'Tumber', 'Female', '1966-02-03', 'Help Desk Operator', 'Property', 'High Net Worth', 'N', 'Yes', '3 Hintze Pass', '3133', 10),
(89, 'Benedicto', 'Hoxey', 'Male', '1967-01-22', 'Speech Pathologist', 'Health', 'Mass Customer', 'N', 'Yes', '2 Mcbride Road', '3070', 10),
(90, 'Cary', 'Garron', 'Male', '1984-11-12', 'Quality Control Specialist', 'Manufacturing', 'Mass Customer', 'N', 'No', '67234 Transport Hill', '2777', 7),
(91, 'Dylan', 'Meaker', 'Male', '1955-02-24', 'Senior Financial Analyst', 'Financial Services', 'Affluent Customer', 'N', 'Yes', '72 Dorton Crossing', '3133', 10),
(92, 'Jodee', 'Judkins', 'Female', '1980-09-11', 'Recruiting Manager', 'Health', 'Mass Customer', 'N', 'No', '6 Heffernan Center', '2125', 11),
(93, 'Gordon', 'Gowar', 'Male', '1976-07-16', 'Project Manager', 'Retail', 'Mass Customer', 'N', 'Yes', '6088 Roxbury Hill', '2766', 8),
(94, 'Wallache', 'Simchenko', 'Male', '1974-08-07', 'Civil Engineer', 'Manufacturing', 'Mass Customer', 'N', 'No', '105 Shelley Alley', '2209', 10),
(95, 'Nomi', 'Mallinder', 'Female', '1960-12-25', 'Software Engineer III', 'Manufacturing', 'Affluent Customer', 'N', 'Yes', '079 Merry Park', '2160', 9),
(96, 'Heath', 'Olford', 'Male', '1968-08-31', 'Nuclear Power Engineer', 'Manufacturing', 'Mass Customer', 'N', 'No', '8722 Summit Alley', '2065', 12),
(97, 'Arne', 'Corain', 'Male', '1979-07-27', 'Community Outreach Specialist', 'Financial Services', 'Mass Customer', 'N', 'Yes', '9554 Artisan Pass', '2150', 10),
(98, 'Allianora', 'Babalola', 'Female', '1956-03-17', 'Safety Technician IV', 'Health', 'Mass Customer', 'N', 'No', '55850 Butterfield Road', '2168', 9),
(99, 'Reggie', 'Mulliner', 'Male', '1998-06-13', 'VP Accounting', 'Financial Services', 'Mass Customer', 'N', 'No', '68 Little Fleur Crossing', '2046', 12);

-- 3. Затем заполняем products
INSERT INTO products (product_id, brand, product_line, product_class, product_size, standard_cost)
VALUES 
(0, 'OHM Cycles', 'Road', 'high', 'large', 7.21),
(1, 'Giant Bicycles', 'Standard', 'medium', 'medium', 954.82),
(2, 'Solex', 'Standard', 'medium', 'medium', 53.62),
(3, 'Trek Bicycles', 'Standard', 'medium', 'large', 388.92),
(4, 'Giant Bicycles', 'Standard', 'high', 'medium', 677.48),
(5, 'Trek Bicycles', 'Mountain', 'low', 'medium', 459.71),
(6, 'OHM Cycles', 'Standard', 'high', 'medium', 136.73),
(12, 'WeareA2B', 'Standard', 'medium', 'medium', 161.60),
(14, 'Solex', 'Standard', 'high', 'large', 1105.75),
(15, 'WeareA2B', 'Standard', 'medium', 'medium', 13.44),
(16, 'Norco Bicycles', 'Standard', 'high', 'small', 1479.11),
(17, 'Solex', 'Standard', 'high', 'medium', 614.80),
(19, 'Trek Bicycles', 'Mountain', 'low', 'medium', 459.71),
(21, 'Solex', 'Standard', 'medium', 'large', 380.74),
(22, 'WeareA2B', 'Standard', 'medium', 'medium', 45.26),
(25, 'Giant Bicycles', 'Road', 'medium', 'medium', 829.65),
(27, 'Trek Bicycles', 'Standard', 'medium', 'medium', 388.72),
(28, 'Norco Bicycles', 'Standard', 'medium', 'small', 1082.36),
(31, 'WeareA2B', 'Standard', 'medium', 'medium', 205.36),
(32, 'Giant Bicycles', 'Standard', 'medium', 'medium', 211.37),
(33, 'Giant Bicycles', 'Standard', 'medium', 'small', 1167.18),
(35, 'Trek Bicycles', 'Standard', 'low', 'medium', 154.40),
(37, 'OHM Cycles', 'Standard', 'low', 'medium', 248.82),
(38, 'Trek Bicycles', 'Standard', 'medium', 'large', 388.92),
(44, 'WeareA2B', 'Standard', 'medium', 'medium', 108.76),
(45, 'Solex', 'Standard', 'medium', 'medium', 84.99),
(46, 'Solex', 'Standard', 'low', 'medium', 74.51),
(47, 'Trek Bicycles', 'Road', 'low', 'small', 1531.42),
(49, 'Trek Bicycles', 'Road', 'medium', 'medium', 400.13),
(50, 'WeareA2B', 'Standard', 'medium', 'small', 131.92),
(54, 'WeareA2B', 'Standard', 'medium', 'medium', 13.44),
(55, 'Trek Bicycles', 'Road', 'medium', 'large', 598.76),
(56, 'OHM Cycles', 'Standard', 'medium', 'medium', 137.90),
(58, 'OHM Cycles', 'Standard', 'medium', 'medium', 141.40),
(60, 'Giant Bicycles', 'Standard', 'high', 'small', 1759.85),
(61, 'OHM Cycles', 'Standard', 'low', 'medium', 56.93),
(62, 'Solex', 'Standard', 'medium', 'medium', 298.72),
(64, 'Trek Bicycles', 'Standard', 'medium', 'large', 596.55),
(66, 'Solex', 'Standard', 'medium', 'medium', 589.27),
(67, 'Solex', 'Standard', 'medium', 'large', 380.74),
(72, 'Norco Bicycles', 'Standard', 'medium', 'medium', 270.30),
(73, 'Solex', 'Standard', 'medium', 'medium', 333.18),
(76, 'WeareA2B', 'Standard', 'low', 'medium', 513.85),
(77, 'Norco Bicycles', 'Road', 'medium', 'large', 795.10),
(78, 'Giant Bicycles', 'Standard', 'medium', 'large', 709.48),
(79, 'Norco Bicycles', 'Standard', 'medium', 'medium', 818.01),
(80, 'OHM Cycles', 'Touring', 'low', 'medium', 933.84),
(81, 'Solex', 'Standard', 'medium', 'medium', 649.49),
(82, 'Giant Bicycles', 'Road', 'medium', 'medium', 829.65),
(84, 'Giant Bicycles', 'Road', 'medium', 'medium', 594.68),
(86, 'OHM Cycles', 'Standard', 'medium', 'medium', 125.07),
(87, 'Giant Bicycles', 'Standard', 'high', 'medium', 707.40),
(88, 'Norco Bicycles', 'Standard', 'medium', 'medium', 381.10),
(89, 'WeareA2B', 'Touring', 'medium', 'large', 57.74),
(91, 'WeareA2B', 'Standard', 'low', 'medium', 513.85),
(92, 'WeareA2B', 'Standard', 'medium', 'small', 1259.36),
(93, 'OHM Cycles', 'Standard', 'high', 'medium', 874.90),
(94, 'Giant Bicycles', 'Standard', 'medium', 'large', 993.66),
(95, 'Giant Bicycles', 'Standard', 'medium', 'large', 528.43),
(96, 'Giant Bicycles', 'Standard', 'medium', 'large', 993.66),
(99, 'Trek Bicycles', 'Road', 'low', 'small', 1531.42);

-- 4. В конце заполняем transactions
INSERT INTO transactions (transaction_id, product_id, customer_id, transaction_date, 
                         online_order, order_status, list_price)
VALUES 
(94, 86, 1, '2017-12-23', false, 'Approved', 235.63),
(99, 95, 32, '2017-03-26', false, 'Approved', 569.56),
(67, 2, 75, '2017-07-03', true, 'Approved', 71.49),
(28, 19, 76, '2017-12-23', false, 'Approved', 574.64);

-- ДОБАВЛЕНИЕ ВНЕШНИХ КЛЮЧЕЙ --
ALTER TABLE customers ADD CONSTRAINT fk_customers_locations FOREIGN KEY (postcode) REFERENCES locations(postcode);
ALTER TABLE transactions ADD CONSTRAINT fk_transactions_customers FOREIGN KEY (customer_id) REFERENCES customers(customer_id);
ALTER TABLE transactions ADD CONSTRAINT fk_transactions_products FOREIGN KEY (product_id) REFERENCES products(product_id);

-- ПРОВЕРОЧНЫЕ ЗАПРОСЫ --
SELECT 'locations' as table_name, COUNT(*) as count FROM locations
UNION ALL SELECT 'customers', COUNT(*) FROM customers
UNION ALL SELECT 'products', COUNT(*) FROM products
UNION ALL SELECT 'transactions', COUNT(*) FROM transactions;
